<template>
  <div if.bind="isUploader" class="upload-box">
    <div if.bind="!file" id="dropzone" class="dropzone">
    </div>
    <div if.bind="file && !uploading">
      <template if.bind="token">
        Give this url to the receiving party:
        <a href="http://localhost:9000/#/${token}" target="_blank">http://localhost:9000/#/${token}</a>
      </template>
      <template if.bind="!token">
        Waiting for upload token
      </template>
    </div>
    <div if.bind="uploading">
      Uploading file to partner<br/>
      ${reader.pos} / ${reader.fileSize}
    </div>
  </div>

  <div if.bind="!isUploader" class="download-box">
    <template if.bind="downloader.queue.length === 0">
      Please wait..
    </template>
    <template if.bind="downloader.queue.length > 0">
      Receiving "${downloader.queue[0].fileName}"<br/>
      Size: ${downloader.queue[0].fileSize}<br/>

      <a if.bind="downloader.queue[0].localUrl" href.bind="downloader.queue[0].localUrl">Save this file</a>
    </template>
  </div>
</template>
